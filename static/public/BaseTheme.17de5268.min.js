/*! BaseTheme 2015-05-26 18:32:40 */
function debounce(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function getRandomNumber(a,b){return Math.random()*(b-a)+a}function getRandomInt(a,b){return Math.floor(Math.random()*(b-a+1))+a}function getStyleVal(a,b){var c=a.css(b);return Math.round(Number(c.substr(0,c.length-2)))}!function(a){if(a.cookieChoices)return a.cookieChoices;var b=a.document,c="textContent"in b.body,d=function(){function a(a,c,d,e){var i="position:fixed;width:100%;background-color:#eee;margin:0; left:0; top:0;padding:4px;z-index:1000;text-align:center;",j=b.createElement("div");return j.id=q,j.style.cssText=i,j.appendChild(f(a)),d&&e&&j.appendChild(h(d,e)),j.appendChild(g(c)),j}function d(a,c,d,e){var i="position:fixed;width:100%;height:100%;z-index:999;top:0;left:0;opacity:0.5;filter:alpha(opacity=50);background-color:#ccc;",j="z-index:1000;position:fixed;left:50%;top:50%",k="position:relative;left:-50%;margin-top:-25%;background-color:#fff;padding:20px;box-shadow:4px 4px 25px #888;",l=b.createElement("div");l.id=q;var m=b.createElement("div");m.style.cssText=i;var n=b.createElement("div");n.style.cssText=k;var o=b.createElement("div");o.style.cssText=j;var p=g(c);return p.style.display="block",p.style.textAlign="right",p.style.marginTop="8px",n.appendChild(f(a)),d&&e&&n.appendChild(h(d,e)),n.appendChild(p),o.appendChild(n),l.appendChild(m),l.appendChild(o),l}function e(a,b){c?a.textContent=b:a.innerText=b}function f(a){var c=b.createElement("span");return e(c,a),c}function g(a){var c=b.createElement("a");return e(c,a),c.id=r,c.href="#",c.style.marginLeft="24px",c}function h(a,c){var d=b.createElement("a");return e(d,a),d.href=c,d.target="_blank",d.style.marginLeft="8px",d}function i(){return n(),m(),!1}function j(c,e,f,g,h){if(o()){m();var j=h?d(c,e,f,g):a(c,e,f,g),k=b.createDocumentFragment();k.appendChild(j),b.body.appendChild(k.cloneNode(!0)),b.getElementById(r).onclick=i}}function k(a,b,c,d){j(a,b,c,d,!1)}function l(a,b,c,d){j(a,b,c,d,!0)}function m(){var a=b.getElementById(q);null!=a&&a.parentNode.removeChild(a)}function n(){var a=new Date;a.setFullYear(a.getFullYear()+1),b.cookie=p+"=y; expires="+a.toGMTString()}function o(){return!b.cookie.match(new RegExp(p+"=([^;]+)"))}var p="displayCookieConsent",q="cookieChoiceInfo",r="cookieChoiceDismiss",s={};return s.showCookieConsentBar=k,s.showCookieConsentDialog=l,s}();return a.cookieChoices=d,d}(this);var isset=function(a){return"undefined"!=typeof a?!0:!1},getViewportSize=function(){var a=window,b="inner";return"innerWidth"in window||(b="client",a=document.documentElement||document.body),{width:a[b+"Width"],height:a[b+"Height"]}},isMediaMinSM=function(){var a=getViewportSize();return a.width>=768?!0:!1},isMediaMinMD=function(){var a=getViewportSize();return a.width>=992?!0:!1},isMediaMinLG=function(){var a=getViewportSize();return a.width>=1200?!0:!1};window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(a){window.clearTimeout(a)}}();var addClass=function(a,b){a.classList?a.classList.add(b):a.className+=" "+b},removeClass=function(a,b){if(a.classList)a.classList.remove(b);else{a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi"),"");var c=a.className.length-1;" "==a.className[c]&&(a.className=a.className.substring(0,c))}},replacePlaceholder=function(){Modernizr.input.placeholder||($("[placeholder]").focus(function(){var a=$(this);a.val()==a.attr("placeholder")&&(a.val(""),a.removeClass("placeholder"))}).blur(function(){var a=$(this);(""===a.val()||a.val()==a.attr("placeholder"))&&(a.addClass("placeholder"),a.val(a.attr("placeholder")))}).blur(),$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var a=$(this);a.val()==a.attr("placeholder")&&a.val("")})}))},stripTrailingSlash=function(a){return"/"==a.substr(-1)?a.substr(0,a.length-1):a};!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}();var gaTrackErrors=function(){"undefined"!=typeof ga&&(window.addEventListener("error",function(a){var b=a.colno?" line:"+a.lineno+", column:"+a.colno:" line:"+a.lineno;ga("send","event","JavaScript Error",a.message,a.filename+b+" -> "+navigator.userAgent,0,!0)}),jQuery.error=function(a){ga("send","event","jQuery Error",a,navigator.userAgent,0,!0)},$(document).ajaxError(function(a,b,c){ga("send","event","jQuery Ajax Error",c.url,JSON.stringify({result:a.result,status:b.status,statusText:b.statusText,crossDomain:c.crossDomain,dataType:c.dataType}),0,!0)}))};!function(a){a.fn.dcSpamless=function(b){var c={reverse:!0,splitDomain:"[dot]",splitName:"[at]",mailto:!0},b=a.extend(c,b);return this.each(function(b){var d=c.splitDomain,e=c.splitName,f=a(this).is("a")?a(this).attr("href").replace("mailto:","").replace(d,".").replace(e,"@"):a(this).text().replace(d,".").replace(e,"@");f=1==c.reverse?f.split("").reverse().join(""):f,a(this).is("a")?a(this).attr("href","mailto:"+f):(c.mailto===!0&&(f='<a href="mailto:'+f+'">'+f+"</a>"),a(this).html(f))})}}(jQuery);var AbstractPage=function(a,b,c){console.log("=> Abstract page - "+a)};AbstractPage.prototype.init=function(a,b,c){var d=this;d.id=a,d.context=b,d.type=c,d.loadDurationMin=1200,d.$cont=$("#page-content-"+d.id),d.$link=d.$cont.length?d.$cont.find("a").not('[target="_blank"]'):null,d.blocks=[],d.$block=d.$cont.find(".page-block"),d.blockLength=d.$block.length,d.blockLength&&d.initBlocks(),"ajax"==d.context&&d.initAjax(),d.initEvents()},AbstractPage.prototype.destroy=function(){var a=this;if(a.$cont.remove(),a.destroyEvents(),null!==a.blocks)for(var b=0;b<a.blockLength;b++)a.blocks[b].destroy()},AbstractPage.prototype.initEvents=function(){var a=this;a.$cont.waitForImages({finished:$.proxy(a.onLoad,a),waitForAll:!0}),null!==a.$link&&Base.ajaxEnabled&&a.$link.on("click",$.proxy(Base.history.linkClick,Base.history)),Base.$window.on("resize",debounce($.proxy(a.onResize,a),100,!1))},AbstractPage.prototype.destroyEvents=function(){var a=this;null!==a.$link&&Base.ajaxEnabled&&a.$link.off("click",$.proxy(Base.history.linkClick,Base.history)),Base.$window.off("resize",debounce($.proxy(a.onResize,a),100,!1))},AbstractPage.prototype.onLoad=function(a){var b=this;b.loadDate=new Date,b.loadDuration=b.loadDate-Base.history.loadBeginDate;var c=b.loadDuration>b.loadDurationMin?0:b.loadDurationMin-b.loadDuration;setTimeout(function(){},c),b.show()},AbstractPage.prototype.show=function(a){var b=this;TweenLite.to(b.$cont,.6,{opacity:1,onComplete:function(){Base.history.transition=!1,"undefined"!=typeof a&&a()}})},AbstractPage.prototype.hide=function(a){var b=this;TweenLite.to(b.$cont,.6,{opacity:0,onComplete:function(){"undefined"!=typeof a&&a()}})},AbstractPage.prototype.initAjax=function(){var a=this;if(a.$cont.length&&""!==a.$cont[0].getAttribute("data-meta-title")){var b=a.$cont[0].getAttribute("data-meta-title");null!==b&&""!==b&&(document.title=b)}},AbstractPage.prototype.initBlocks=function(){for(var a=this,b=0;b<a.blockLength;b++){var c=a.$block[b].getAttribute("data-node-type"),d=a.$block[b].id;a.blocks[b]="undefined"!=typeof Base.nodeTypesClasses[c]?new window[Base.nodeTypesClasses[c]](d):new AbstractBlock(d)}},AbstractPage.prototype.onResize=function(){console.log("=> Page resize")};var Page=function(a,b){var c=this;console.log("-> Page - "+a),c.init(a,b,"page")};$.extend(Page.prototype,AbstractPage.prototype),Page.prototype.init=function(a,b,c){console.log("-> Page init : "+a),AbstractPage.prototype.init.call(this,a,b,c)};var Project=function(a,b){var c=this;console.log("-> Project"),c.init(a,b,"project")};$.extend(Project.prototype,AbstractPage.prototype),Project.prototype.init=function(a,b,c){console.log("-> Project init : "+a),AbstractPage.prototype.init.call(this,a,b,c)};var AbstractBlock=function(a){var b=this;console.log("=> Abstract block - "+a),b.init(a),b.initEvents()};AbstractBlock.prototype.init=function(a,b){var c=this;c.id=a,c.type=b,c.$cont=$("#"+a)},AbstractBlock.prototype.initEvents=function(){var a=this;Base.$window.on("resize",debounce($.proxy(a.resize,a),50,!1))},AbstractBlock.prototype.destroy=function(){var a=this;a.destroyEvents()},AbstractBlock.prototype.destroyEvents=function(){var a=this;Base.$window.off("resize",debounce($.proxy(a.resize,a),50,!1))},AbstractBlock.prototype.resize=function(){},AbstractBlock.prototype.initMaps=function(){};var BasicBlock=function(a){var b=this;console.log("-> Basic Block - "+a),b.init(a,"basicblock")};$.extend(BasicBlock.prototype,AbstractBlock.prototype),BasicBlock.prototype.init=function(a,b){console.log("-> Block init : "+a)};var BaseHistory=function(){var a=this;a.state=null,a.stateBlock=!0,a.transition=!1,a.init()};BaseHistory.prototype.init=function(){var a=this;Base.ajaxEnabled&&Modernizr.history&&(history.pushState({firstPage:!0,href:window.location.href},null,window.location.href),window.onpopstate=$.proxy(a.onPopState,a))},BaseHistory.prototype.onPopState=function(a){var b=this;"undefined"!=typeof a.state&&null!==a.state&&b.loadPage(a,a.state)},BaseHistory.prototype.boot=function(a,b,c){Base.page=a&&"undefined"!=typeof Base.nodeTypesClasses[a]?new window[Base.nodeTypesClasses[a]](b,c):new AbstractPage(b,c)},BaseHistory.prototype.destroy=function(){},BaseHistory.prototype.linkClick=function(a){var b=this,c=a.currentTarget.className,d=a.currentTarget.href;if(-1==d.indexOf("mailto:")&&(a.preventDefault(),-1==c.indexOf("active")&&-1==c.indexOf("no-ajax-link")&&!b.transition)){b.transition=!0;var e=a.currentTarget.className.indexOf("nav-link")>=0?"nav":"link",f=a.currentTarget.getAttribute("data-is-home"),g="1"==f?!0:!1,h=a.currentTarget.getAttribute("data-title");""===h&&(h=a.currentTarget.innerHTML);var i={nodeType:a.currentTarget.getAttribute("data-node-type"),nodeName:a.currentTarget.getAttribute("data-node-name"),index:Number(a.currentTarget.getAttribute("data-index")),transition:Base.page.type+"_to_"+a.currentTarget.getAttribute("data-node-type"),context:e,is_home:g};history.pushState(i,h,a.currentTarget.href),b.loadPage(a,i)}},BaseHistory.prototype.loadPage=function(a,b){var c=this;c.loadBeginDate=new Date,$.ajax({url:a.currentTarget.href,type:"get",success:function(a){Base.$ajaxContainer.append(a),Base.formerPage=Base.page,Base.page=null,Base.formerPage.hide($.proxy(Base.formerPage.destroy,Base.formerPage)),c.boot(b.nodeType,b.nodeName,"ajax"),Base.nav.update(b),Base.$body[0].id=b.nodeName,"undefined"!=typeof ga&&ga("send","pageview",{page:b.href,title:document.title})}})};var BaseNav=function(){var a=this;console.log("Nav"),a.$cont=Base.$nav,a.$list=$("#nav-list"),a.$item=a.$list.find(".nav-item"),a.$link=a.$list.find(".nav-link"),a.init()};BaseNav.prototype.init=function(){var a=this;a.initEvents()},BaseNav.prototype.initEvents=function(){var a=this;a.$link.length&&Base.ajaxEnabled&&a.$link.on("click",$.proxy(Base.history.linkClick,Base.history)),Base.$window.on("resize",debounce($.proxy(a.resize,a),100,!1))},BaseNav.prototype.destroyEvents=function(){var a=this;a.$link.length&&Base.ajaxEnabled&&a.$link.off("click",$.proxy(Base.history.linkClick,Base.history)),Base.$window.off("resize",debounce($.proxy(a.resize,a),100,!1))},BaseNav.prototype.destroy=function(){var a=this;a.destroyEvents()},BaseNav.prototype.update=function(a){var b=this;b.$item.removeClass("active"),b.$link.removeClass("active");var c=$("#nav-item-"+a.nodeName),d=$("#nav-link-"+a.nodeName);c.length&&addClass(c[0],"active"),d.length&&addClass(d[0],"active")},BaseNav.prototype.resize=function(){console.log("-> Nav resize")};var Base={};Base.$window=null,Base.$body=null,Base.windowSize={width:1920,height:1280},Base.firstResize=!0,Base.$nav=null,Base.nav=null,Base.isMobile=!1,Base.isIE=!1,Base.page=null,Base.formerPage=null,Base.nodeTypesClasses={page:"Page",project:"Project",basicblock:"BasicBlock",mapblock:"MapBlock"},Base.$ajaxContainer=null,Base.ajaxEnabled=!0,Base.gmapLoaded=!1,Base.onDocumentReady=function(a){for(var b in temp)Base[b]=temp[b];Base.init()},Base.init=function(){var a=this;TweenLite.defaultEase=Expo.easeOut,a.$window=$(window),a.$body=$("body"),a.$ajaxContainer=$("#ajax-container");var b=getViewportSize();a.windowSize={width:b.width,height:b.height},a.isMobile=isMobile.any===!1?!1:!0,a.isMobile&&addClass(a.$body[0],"is-mobile"),(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0)&&(a.isIE=!0,addClass(a.$body[0],"ie")),Modernizr.history||(Base.ajaxEnabled=!1),a.history=new BaseHistory,a.history.boot(a.$body[0].getAttribute("data-node-type"),a.$body[0].id,"static"),a.$nav=$("#nav"),a.$nav.length&&(a.nav=new BaseNav),a.$window.on("resize",debounce($.proxy(a.resize,a),50,!1)),a.$window.on("orientationchange",debounce($.proxy(a.resize,a),50,!1)),a.$window.trigger("resize"),gaTrackErrors()},Base.resize=function(){var a=this;console.log("-> Resize");var b=getViewportSize();(b.width!==a.windowSize.width||b.height!==a.windowSize.height||a.firstResize)&&(a.windowSize=getViewportSize(),console.log("ww : "+a.windowSize.width),console.log("wh : "+a.windowSize.height),a.firstResize&&(a.firstResize=!1))},Base.initMaps=function(){var a=this;a.gmapLoaded=!0;for(var b=0;b<a.page.blockLength;b++){var c=a.page.blocks[b];c.initMaps()}},$(document).ready(Base.onDocumentReady);