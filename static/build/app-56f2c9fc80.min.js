!function(t){var e=/iPhone/i,o=/iPod/i,n=/iPad/i,i=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,s=/Android/i,a=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,r=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/IEMobile/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,u=/BlackBerry/i,d=/BB10/i,h=/Opera Mini/i,p=/(CriOS|Chrome)(?=.*\bMobile\b)/i,f=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,m=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),b=function(t,e){return t.test(e)},g=function(t){var g=t||navigator.userAgent,y=g.split("[FBAN");return"undefined"!=typeof y[1]&&(g=y[0]),this.apple={phone:b(e,g),ipod:b(o,g),tablet:!b(e,g)&&b(n,g),device:b(e,g)||b(o,g)||b(n,g)},this.amazon={phone:b(a,g),tablet:!b(a,g)&&b(r,g),device:b(a,g)||b(r,g)},this.android={phone:b(a,g)||b(i,g),tablet:!b(a,g)&&!b(i,g)&&(b(r,g)||b(s,g)),device:b(a,g)||b(r,g)||b(i,g)||b(s,g)},this.windows={phone:b(l,g),tablet:b(c,g),device:b(l,g)||b(c,g)},this.other={blackberry:b(u,g),blackberry10:b(d,g),opera:b(h,g),firefox:b(f,g),chrome:b(p,g),device:b(u,g)||b(d,g)||b(h,g)||b(f,g)||b(p,g)},this.seven_inch=b(m,g),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},y=function(){var t=new g;return t.Class=g,t};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=g:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=y():"function"==typeof define&&define.amd?define("isMobile",[],t.isMobile=y()):t.isMobile=y()}(this),!function(t,e){"use strict";"function"==typeof define&&define.amd?define("loglevel",e):"object"==typeof module&&module.exports?module.exports=e():t.log=e()}(this,function(){"use strict";function t(t){return typeof console!==r&&(void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):a)}function e(t,e){var o=t[e];if("function"==typeof o.bind)return o.bind(t);try{return Function.prototype.bind.call(o,t)}catch(n){return function(){return Function.prototype.apply.apply(o,[t,arguments])}}}function o(t,e,o){return function(){typeof console!==r&&(n.call(this,e,o),this[t].apply(this,arguments))}}function n(t,e){for(var o=0;o<l.length;o++){var n=l[o];this[n]=t>o?a:this.methodFactory(n,t,e)}}function i(e,n,i){return t(e)||o.apply(this,arguments)}function s(t,e,o){function s(t){var e=(l[t]||"silent").toUpperCase();try{return void(window.localStorage[d]=e)}catch(o){}try{window.document.cookie=encodeURIComponent(d)+"="+e+";"}catch(o){}}function a(){var t;try{t=window.localStorage[d]}catch(e){}if(typeof t===r)try{var o=window.document.cookie,n=o.indexOf(encodeURIComponent(d)+"=");n&&(t=/^([^;]+)/.exec(o.slice(n))[1])}catch(e){}return void 0===u.levels[t]&&(t=void 0),t}var c,u=this,d="loglevel";t&&(d+=":"+t),u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=o||i,u.getLevel=function(){return c},u.setLevel=function(e,o){if("string"==typeof e&&void 0!==u.levels[e.toUpperCase()]&&(e=u.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=u.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;return c=e,o!==!1&&s(e),n.call(u,e,t),typeof console===r&&e<u.levels.SILENT?"No console available for logging":void 0},u.setDefaultLevel=function(t){a()||u.setLevel(t,!1)},u.enableAll=function(t){u.setLevel(u.levels.TRACE,t)},u.disableAll=function(t){u.setLevel(u.levels.SILENT,t)};var h=a();null==h&&(h=null==e?"WARN":e),u.setLevel(h,!1)}var a=function(){},r="undefined",l=["trace","debug","info","warn","error"],c=new s,u={};c.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=u[t];return e||(e=u[t]=new s(t,c.getLevel(),c.methodFactory)),e};var d=typeof window!==r?window.log:void 0;return c.noConflict=function(){return typeof window!==r&&window.log===c&&(window.log=d),c},c}),define("utils/utils",["exports","jquery"],function(t,e){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;var i=o(e);t.Utils=function(){function t(){n(this,t)}return t.stripTrailingSlash=function(t){return"/"==t.substr(-1)?t.substr(0,t.length-1):t},t.logCredits=function(t,e,o,n,i){var s="#fff";if("undefined"!=typeof i&&(s=i),console.log("%c   ","font-size:3px;"),console.log("%c"+t,"background:"+e+"; color: "+s+"; font-size:14px; padding:5px 10px;"),console.log("%c   ","font-size:3px;"),null!==o){var a=o.length;if(a)for(var r=0;a>r;r++)console.log(o[r].name+" - "+o[r].website)}if(null!==n){var l=n.length;if(l){console.log("-"),console.log("Thanks to");for(var c=0;l>c;c++)console.log(n[c].name+" ("+n[c].website+")")}}console.log("-"),console.log(" ")},t.getStyleVal=function(t,e){var o=t.css(e);return Math.round(Number(o.substr(0,o.length-2)))},t.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},t.removeClass=function(t,e){if(t.classList)t.classList.remove(e);else{t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi"),"");var o=t.className.length-1;" "==t.className[o]&&(t.className=t.className.substring(0,o))}},t.getRandomNumber=function(t,e,o){var n=Math.random()*(e-t)+t;return"undefined"!=typeof o?Number(n.toFixed(o)):n},t.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.replacePlaceholder=function(){"undefined"!=typeof Modernizr&&(Modernizr.input.placeholder||((0,i["default"])("[placeholder]").focus(function(){var t=(0,i["default"])(this);t.val()==t.attr("placeholder")&&(t.val(""),t.removeClass("placeholder"))}).blur(function(){var t=(0,i["default"])(this);(""===t.val()||t.val()==t.attr("placeholder"))&&(t.addClass("placeholder"),t.val(t.attr("placeholder")))}).blur(),(0,i["default"])("[placeholder]").parents("form").submit(function(){(0,i["default"])(this).find("[placeholder]").each(function(){var t=(0,i["default"])(this);t.val()==t.attr("placeholder")&&t.val("")})})))},t.getViewportSize=function(){var t=window,e="inner";return"innerWidth"in window||(e="client",t=document.documentElement||document.body),{width:t[e+"Width"],height:t[e+"Height"]}},t.prefixProperty=function(t){for(var e=["","ms","Webkit","Moz","O"],o=e.length,n=document.createElement("div"),i=0;o>i;i++){var s=e[i];t=""===s?t:t.charAt(0).toUpperCase()+t.substring(1).toLowerCase();var a=s+t;if("undefined"!=typeof n.style[a])return a}},t.getNormRatio=function(t,e,o){return e>t?0:t>o?1:t===o?1:(t-e)/(o-e)},t}()}),define("utils/polyfills",["exports"],function(t){"use strict";function e(){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){window.clearTimeout(t)}}();for(var t=void 0,e=function(){},o=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=o.length,i=window.console=window.console||{};n--;)t=o[n],i[t]||(i[t]=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.polyfills=e}),define("utils/gaTrackErrors",["exports","jquery"],function(t,e){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(){"undefined"!=typeof ga&&(window.addEventListener("error",function(t){var e=t.colno?" line:"+t.lineno+", column:"+t.colno:" line:"+t.lineno;ga("send","event","JavaScript Error",t.message,t.filename+e+" -> "+navigator.userAgent,0,!0)}),i["default"].error=function(t){ga("send","event","jQuery Error",t,navigator.userAgent,0,!0)},(0,i["default"])(document).ajaxError(function(t,e,o){ga("send","event","jQuery Ajax Error",o.url,JSON.stringify({result:t.result,status:e.status,statusText:e.statusText,crossDomain:o.crossDomain,dataType:o.dataType}),0,!0)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.gaTrackErrors=n;var i=o(e)}),define("utils/bootstrapMedia",["exports","utils/utils"],function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.BootstrapMedia=void 0,t.BootstrapMedia=function(){function t(){o(this,t)}return t.isMinXS=function(){var t=e.Utils.getViewportSize();return t.width>=480},t.isMinSM=function(){var t=e.Utils.getViewportSize();return t.width>=768},t.isMinMD=function(){var t=e.Utils.getViewportSize();return t.width>=992},t.isMinLG=function(){var t=e.Utils.getViewportSize();return t.width>=1200},t.isMinXL=function(){var t=e.Utils.getViewportSize();return t.width>=1920},t}()}),define("utils/debounce",["exports"],function(t){"use strict";function e(t,e,o){var n=this,i=arguments,s=void 0;return function(){var a=n,r=i,l=function(){s=null,o||t.apply(a,r)},c=o&&!s;clearTimeout(s),s=setTimeout(l,e),c&&t.apply(a,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=e}),define("abstract-nav",["exports"],function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractNav=function(){function t(){e(this,t),this.$cont=null}return t.prototype.update=function(t){if(!t)throw"Nav update method needs a Page object.";this.page=t},t.prototype.initEvents=function(t){if(!t)throw"Nav initEvents method needs a Router object."},t}()}),define("common/nav",["exports","jquery","utils/utils","utils/bootstrapMedia","utils/debounce","abstract-nav"],function(t,e,o,n,i,s){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Nav=void 0;var u=a(e);t.Nav=function(t){function e(){r(this,e);var o=l(this,t.call(this));return o.$cont=(0,u["default"])("#nav"),o.$list=(0,u["default"])("#nav-list"),o.$item=o.$list.find(".nav-item"),o.$link=o.$list.find(".nav-link"),o.$links=o.$cont.find("a").not('[target="_blank"]'),o.$btn=(0,u["default"])("#nav-btn"),o.$overlay=(0,u["default"])("#nav-overlay"),o.minifyLimit=n.BootstrapMedia.isMinMD()?165:50,o.opened=!1,o}return c(e,t),e.prototype.initEvents=function(e){t.prototype.initEvents.call(this,e),e.options.ajaxEnabled&&this.$links.on("click",e.onLinkClick.bind(e)),n.BootstrapMedia.isMinSM()||this.$btn.on("click",u["default"].proxy(this.btnClick,this)),n.BootstrapMedia.isMinSM()||this.$overlay.on("click",this.close.bind(this)),window.addEventListener("scroll",this.onScroll.bind(this)),window.addEventListener("resize",(0,i.debounce)(this.onResize.bind(this),100,!1))},e.prototype.destroyEvents=function(e){t.prototype.destroyEvents.call(this,e),e.options.ajaxEnabled&&this.$links.off("click",e.onLinkClick.bind(e)),n.BootstrapMedia.isMinSM()||this.$btn.off("click",u["default"].proxy(this.btnClick,this)),n.BootstrapMedia.isMinSM()||this.$overlay.off("click",this.close.bind(this)),window.removeEventListener("scroll",this.onScroll.bind(this)),window.removeEventListener("resize",(0,i.debounce)(this.onResize.bind(this),100,!1))},e.prototype.onScroll=function(t){window.scrollY>this.minifyLimit?this.minified||this.minify():this.minified&&this.unminify()},e.prototype.minify=function(){o.Utils.addClass(document.body,"nav-minified"),this.minified=!0},e.prototype.unminify=function(){o.Utils.removeClass(document.body,"nav-minified"),this.minified=!1},e.prototype.btnClick=function(t){this.opened?this.close():this.open()},e.prototype.open=function(){this.opened||(this.$cont[0].style.display="block",TweenLite.fromTo(this.$cont,.4,{xPercent:-100},{xPercent:0}),this.$overlay[0].style.display="block",TweenLite.to(this.$overlay,1.2,{opacity:1}),this.opened=!0)},e.prototype.close=function(){var t=this;this.opened&&(TweenLite.to(this.$cont,.4,{xPercent:-100,onComplete:function(){t.opened||(t.$cont[0].style.display="none")}}),TweenLite.to(this.$overlay,1.2,{opacity:0,onComplete:function(){t.$overlay[0].style.display="none"}}),this.opened=!1)},e.prototype.onResize=function(){},e}(s.AbstractNav)}),define("state",["exports","jquery"],function(t,e){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var i=o(e);t.State=function s(t,e,o){n(this,s),this.options={previousType:"page",navLinkClass:"nav-link"},null!==o&&(this.options=i["default"].extend(this.options,o));var a=e.className.indexOf(this.options.navLinkClass)>=0?"nav":"link",r=e.getAttribute("data-is-home"),l="1"==r,c=e.getAttribute("data-title"),u=e.getAttribute(t.options.objectTypeAttr);""===c&&(c=e.innerHTML),""===u&&(u="page"),this.title=c,this.href=e.href,this.nodeType=u,this.nodeName=e.getAttribute("data-node-name"),this.index=Number(e.getAttribute("data-index")),this.transition=this.options.previousType+"_to_"+u,this.context=a,this.isHome=l}}),!function(t){"function"==typeof define&&define.amd?define("waitForImages",["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e="waitForImages";t.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},t.expr[":"]["has-src"]=function(e){return t(e).is('img[src][src!=""]')},t.expr[":"].uncached=function(e){return!!t(e).is(":has-src")&&!e.complete},t.fn.waitForImages=function(){var o,n,i,s=0,a=0,r=t.Deferred();if(t.isPlainObject(arguments[0])?(i=arguments[0].waitForAll,n=arguments[0].each,o=arguments[0].finished):1===arguments.length&&"boolean"===t.type(arguments[0])?i=arguments[0]:(o=arguments[0],n=arguments[1],i=arguments[2]),o=o||t.noop,n=n||t.noop,i=!!i,!t.isFunction(o)||!t.isFunction(n))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var l=t(this),c=[],u=t.waitForImages.hasImageProperties||[],d=t.waitForImages.hasImageAttributes||[],h=/url\(\s*(['"]?)(.*?)\1\s*\)/g;i?l.find("*").addBack().each(function(){var e=t(this);e.is("img:has-src")&&!e.is("[srcset]")&&c.push({src:e.attr("src"),element:e[0]}),t.each(u,function(t,o){var n,i=e.css(o);if(!i)return!0;for(;n=h.exec(i);)c.push({src:n[2],element:e[0]})}),t.each(d,function(t,o){var n=e.attr(o);return!n||void c.push({src:e.attr("src"),srcset:e.attr("srcset"),element:e[0]})})}):l.find("img:has-src").each(function(){c.push({src:this.src,element:this})}),s=c.length,a=0,0===s&&(o.call(l[0]),r.resolveWith(l[0])),t.each(c,function(i,c){var u=new Image,d="load."+e+" error."+e;t(u).one(d,function h(e){var i=[a,s,"load"==e.type];return a++,n.apply(c.element,i),r.notifyWith(c.element,i),t(this).off(d,h),a==s?(o.call(l[0]),r.resolveWith(l[0]),!1):void 0}),c.srcset&&(u.srcset=c.srcset),u.src=c.src})}),r.promise()}}),function(t,e){"function"==typeof define&&define.amd?define("Lazyload",[],e):"object"==typeof exports?module.exports=e():t.LazyLoad=e()}(this,function(){function t(){b||(h={elements_selector:"img",container:window,threshold:300,throttle:50,data_src:"original",data_srcset:"original-set",class_loading:"loading",class_loaded:"loaded",skip_invisible:!0,show_while_loading:!1,callback_load:null,callback_set:null,callback_processed:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},p=!!window.addEventListener,f=!!window.attachEvent,m=!!document.body.classList,b=!0)}function e(t,e,o){return p?void t.addEventListener(e,o):void(f&&(t.attachEvent("on"+e,function(t){return function(){o.call(t,window.event)}}(t)),t=null))}function o(t,e,o){return p?void t.removeEventListener(e,o):void(f&&t.detachEvent("on"+e,o))}function n(t,e,o){function n(){return window.innerWidth||d.documentElement.clientWidth||document.body.clientWidth}function i(){return window.innerHeight||d.documentElement.clientHeight||document.body.clientHeight}function s(t){return t.getBoundingClientRect().top+h-d.documentElement.clientTop}function a(t){return t.getBoundingClientRect().left+p-d.documentElement.clientLeft}function r(){var n;return n=e===window?i()+h:s(e)+e.offsetHeight,n<=s(t)-o}function l(){var i;return i=e===window?n()+window.pageXOffset:a(e)+n(),i<=a(t)-o}function c(){var n;return n=e===window?h:s(e),n>=s(t)+o+t.offsetHeight}function u(){var n;return n=e===window?p:a(e),n>=a(t)+o+t.offsetWidth}var d,h,p;return d=t.ownerDocument,h=window.pageYOffset||d.body.scrollTop,p=window.pageXOffset||d.body.scrollLeft,!(r()||c()||l()||u())}function i(){var t=new Date;return t.getTime()}function s(t,e){var o,n={};for(o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);for(o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}function a(t){try{return Array.prototype.slice.call(t)}catch(e){var o,n=[],i=t.length;for(o=0;i>o;o++)n.push(t[o]);return n}}function r(t,e){return m?void t.classList.add(e):void(t.className+=(t.className?" ":"")+e)}function l(t,e){return m?void t.classList.remove(e):void(t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,""))}function c(t,e,o,n){var i=e.getAttribute("data-"+o),s=e.getAttribute("data-"+n);i&&t.setAttribute("srcset",i),s&&t.setAttribute("src",s)}function u(t,e){return function(){return t.apply(e,arguments)}}function d(o){t(),this._settings=s(h,o),this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._handleScrollFn=u(this.handleScroll,this),e(window,"resize",this._handleScrollFn),this.update()}var h,p,f,m,b=!1;return d.prototype._showOnLoad=function(t){function n(){null!==s&&(s.callback_load&&s.callback_load(t),c(t,t,s.data_srcset,s.data_src),s.callback_set&&s.callback_set(t),l(t,s.class_loading),r(t,s.class_loaded),o(i,"load",n))}var i,s=this._settings;t.getAttribute("src")||t.setAttribute("src",s.placeholder),i=document.createElement("img"),e(i,"load",n),r(t,s.class_loading),c(i,t,s.data_srcset,s.data_src)},d.prototype._showOnAppear=function(t){function n(){null!==i&&(i.callback_load&&i.callback_load(t),l(t,i.class_loading),r(t,i.class_loaded),o(t,"load",n))}var i=this._settings;e(t,"load",n),r(t,i.class_loading),c(t,t,i.data_srcset,i.data_src),i.callback_set&&i.callback_set(t)},d.prototype._loopThroughElements=function(){var t,e,o=this._settings,i=this._elements,s=i?i.length:0,a=[];for(t=0;s>t;t++)e=i[t],o.skip_invisible&&null===e.offsetParent||n(e,o.container,o.threshold)&&(o.show_while_loading?this._showOnAppear(e):this._showOnLoad(e),a.push(t),e.wasProcessed=!0);for(;a.length>0;)i.splice(a.pop(),1),o.callback_processed&&o.callback_processed(i.length);0===s&&this._stopScrollHandler()},d.prototype._purgeElements=function(){var t,e,o=this._elements,n=o.length,i=[];for(t=0;n>t;t++)e=o[t],e.wasProcessed&&i.push(t);for(;i.length>0;)o.splice(i.pop(),1)},d.prototype._startScrollHandler=function(){this._isHandlingScroll||(this._isHandlingScroll=!0,e(this._settings.container,"scroll",this._handleScrollFn))},d.prototype._stopScrollHandler=function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,o(this._settings.container,"scroll",this._handleScrollFn))},d.prototype.handleScroll=function(){var t,e,o;this._settings&&(e=i(),o=this._settings.throttle,0!==o?(t=o-(e-this._previousLoopTime),0>=t||t>o?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=e,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(u(function(){this._previousLoopTime=i(),this._loopTimeout=null,this._loopThroughElements()},this),t))):this._loopThroughElements())},d.prototype.update=function(){this._elements=a(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)),this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},d.prototype.destroy=function(){o(window,"resize",this._handleScrollFn),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null},d}),define("abstract-page",["exports","loglevel","TweenMax","waitForImages","jquery","Lazyload","utils/debounce"],function(t,e,o,n,i,s,a){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractPage=void 0;var c=r(e),u=(r(o),r(n),r(i),r(s));t.AbstractPage=function(){function t(e,o,n,i,s){if(l(this,t),i=i||"page",!o)throw"AbstractPage need a $cont (JQuery) to be defined.";if(!e)throw"AbstractPage need a Router instance to be defined.";this.router=e,this.$cont=o,this.id=o[0].id,this.context=n,this.type=i,this.isHome=s,this.lazyload=null,"1"==this.$cont[0].getAttribute("data-is-home")&&(this.isHome=!0),this.name=this.$cont.length?this.$cont[0].getAttribute("data-node-name"):"",this.onResizeDebounce=(0,a.debounce)(this.onResize.bind(this),50,!1),c["default"].debug("✳️ #"+this.id+"\t"+i),this.init(),this.initEvents()}return t.prototype.init=function(){var t=this;this.$link=this.$cont.find("a").not('[target="_blank"]'),this.bindedLinkClick=this.router.onLinkClick.bind(this.router),this.$link.length&&(this.externalLinkTarget(this.$link,this.router.baseUrl),this.$link=this.$cont.find("a").not('[target="_blank"]')),this.router.options.lazyloadEnabled&&setTimeout(function(){t.beforeLazyload(),t.lazyload=new u["default"]({elements_selector:"."+t.router.options.lazyloadClass,data_src:t.router.options.lazyloadSrcAttr.replace("data-",""),data_srcset:t.router.options.lazyloadSrcSetAttr.replace("data-",""),callback_set:t.onLazyImageSet.bind(t),callback_load:t.onLazyImageLoad.bind(t),callback_processed:t.onLazyImageProcessed.bind(t)})},0),this.blocks=[],this.$blocks=this.$cont.find(this.router.options.pageBlockClass),this.blockLength=this.$blocks.length,this.blockLength&&this.initBlocks(),"static"==this.context&&this.router.ajaxEnabled?this.router.pushFirstState(this.isHome):"ajax"==this.context&&this.initAjax()},t.prototype.destroy=function(){if(c["default"].debug("🗑 #"+this.id),this.$cont.remove(),this.destroyEvents(),null!==this.blocks)for(var t in this.blocks)this.blocks[t].destroy();null!==this.lazyload&&this.lazyload.destroy()},t.prototype.initEvents=function(){this.$cont.find("img").length?this.$cont.waitForImages({finished:this.onLoad.bind(this),waitForAll:!0}):this.onLoad(),this.$link.length&&this.router.options.ajaxEnabled&&this.$link.on("click",this.bindedLinkClick),this.router.$window.on("resize",this.onResizeDebounce)},t.prototype.destroyEvents=function(){this.$link.off("click",this.bindedLinkClick),this.router.$window.off("resize",this.onResizeDebounce)},t.prototype.onLoad=function(t){var e=this;this.loadDate=new Date,this.loadDuration=this.loadDate-this.router.loadBeginDate,this.router.nav.update(this);var o=this.loadDuration>this.router.options.minLoadDuration?0:this.router.options.minLoadDuration-this.loadDuration;setTimeout(function(){var t=e.showEnded.bind(e);if(e.router.loader.hide(),"static"==e.context)e.show(t);else if("ajax"==e.context){if(""!==e.name&&(document.body.id=e.name),e.router.formerPages.length>0){var o=e.router.formerPages[e.router.formerPages.length-1],n=o.destroy.bind(o);e.router.formerPages.length>1?n():o.hide(n),e.router.formerPages.pop()}e.show(t)}},o)},t.prototype.show=function(t){var e=this;c["default"].debug("▶️ #"+this.id),TweenLite.to(this.$cont,.6,{opacity:1,onComplete:function(){e.router.transition=!1,"undefined"!=typeof t&&t()}})},t.prototype.showEnded=function(){this.$cont.removeClass(this.router.options.pageClass+"-ajax"),this.$cont.removeClass(this.router.options.pageClass+"-transitioning")},t.prototype.hide=function(t){c["default"].debug("◀️ #"+this.id),TweenLite.to(this.$cont,.6,{opacity:0,onComplete:t})},t.prototype.initAjax=function(){this.$cont.addClass(this.router.options.pageClass+"-transitioning")},t.prototype.initBlocks=function(){for(var t=0;t<this.blockLength;t++){var e=this.$blocks[t].getAttribute(this.router.options.objectTypeAttr),o=(this.$blocks[t].id,this.router.classFactory.getBlockInstance(e,this,this.$blocks.eq(t)));o&&this.blocks.push(o)}for(var n=this.blocks.length-1;n>=0;n--)this.blocks[n].onPageReady()},t.prototype.getBlockById=function(t){for(var e in this.blocks)if(this.blocks[e]&&this.blocks[e].id&&this.blocks[e].id==t)return this.blocks[e];return null},t.prototype.onResize=function(){},t.prototype.beforeLazyload=function(){},t.prototype.onLazyImageSet=function(t){c["default"].debug("\t🖼 «"+t.id+"» set")},t.prototype.onLazyImageLoad=function(t){c["default"].debug("\t🖼 «"+t.id+"» load")},t.prototype.onLazyImageProcessed=function(t){c["default"].debug("\t🖼 Lazy load processed")},t.prototype.externalLinkTarget=function(t,e){var o=t.length,n=e.split("://");n=n[1];for(var i=0;o>i;i++){var s=t[i];-1==s.href.indexOf(n)&&-1==s.href.indexOf("javascript")&&-1==s.href.indexOf("mailto:")&&"/"!=s.href.charAt(0)&&"#"!=s.href.charAt(0)&&(t[i].target="_blank")}},t}()}),define("pages/home",["exports","abstract-page"],function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Home=void 0,t.Home=function(t){function e(){return o(this,e),n(this,t.apply(this,arguments))}return i(e,t),e.prototype.init=function(){t.prototype.init.call(this)},e.prototype.initEvents=function(){t.prototype.initEvents.call(this)},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this)},e}(e.AbstractPage)}),define("router",["exports","jquery","state","pages/home"],function(t,e,o,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;var a=i(e);t.Router=function(){function t(e,o,n,i,r){if(s(this,t),!n)throw"Router needs baseUrl to be defined.";if(!i)throw"Router needs a GraphicLoader instance to be defined.";if(!o)throw"Router needs a ClassFactory instance to be defined.";if(!r)throw"Router needs a Nav instance to be defined.";this.classFactory=o,this.baseUrl=n,this.loader=i,this.nav=r,this.state=null,this.formerPages=[],this.page=null,this.stateBlock=!0,this.ajaxEnabled=!0,this.transition=!1,this.loading=!1,this.$window=(0,a["default"])(window),this.window=this.$window,this.currentRequest=null,this.options={homeHasClass:!1,ajaxEnabled:!0,pageClass:"page-content",objectTypeAttr:"data-node-type",noAjaxLinkClass:"no-ajax-link",navLinkClass:"nav-link",activeClass:"active",pageBlockClass:".page-block",lazyloadEnabled:!1,lazyloadSrcAttr:"data-src",lazyloadClass:"lazyload",lazyloadSrcSetAttr:"data-src-set",$ajaxContainer:(0,a["default"])("#ajax-container"),minLoadDuration:0,preLoadPageDelay:0,postLoad:function(t,e){},preLoad:function(t){},prePushState:function(t){},onDestroy:function(){},preBoot:function(t,e,o){}},null!==e&&(this.options=a["default"].extend(this.options,e))}return t.prototype.destroy=function(){this.options.ajaxEnabled&&window.removeEventListener("popstate",this.onPopState.bind(this),!1);var t=this.options.onDestroy.bind(this);t()},t.prototype.initEvents=function(){this.options.ajaxEnabled&&window.addEventListener("popstate",this.onPopState.bind(this),!1),this.nav.initEvents(this)},t.prototype.onPopState=function(t){"undefined"!=typeof t.state&&null!==t.state&&(this.transition=!0,this.loadPage(t,t.state))},t.prototype.boot=function(t,e,o){"static"==e&&(this.loadBeginDate=new Date);var i=this.options.preBoot.bind(this);i(t,e,o);var s=t.attr(this.options.objectTypeAttr);o&&this.options.homeHasClass?this.page=new n.Home(this,t,e,s,o):this.page=this.classFactory.getPageInstance(s,this,t,e,s,o)},t.prototype.onLinkClick=function(t){var e=t.currentTarget.className,n=t.currentTarget.href;if(-1==n.indexOf("mailto:")&&(t.preventDefault(),-1==e.indexOf(this.options.activeClass)&&-1==e.indexOf(this.options.noAjaxLinkClass)&&!this.transition)){this.transition=!0,this.state=new o.State(this,t.currentTarget,{previousType:this.page.type,navLinkClass:this.options.navLinkClass});var i=this.options.prePushState.bind(this);i(this.state),history.pushState&&history.pushState(this.state,this.state.title,this.state.href),this.loadPage(t,this.state)}},t.prototype.loadPage=function(t,e){var o=this;this.currentRequest&&4!=this.currentRequest.readyState&&this.currentRequest.abort(),this.loader.show(),this.loadBeginDate=new Date;var n=this.options.preLoad.bind(this);n(e),setTimeout(function(){o.currentRequest=a["default"].ajax({url:e.href,dataType:"html",cache:!1,type:"get",success:o._onDataLoaded.bind(o)})},this.options.preLoadPageDelay)},t.prototype._onDataLoaded=function(t){var e=null,o=(0,a["default"])(a["default"].parseHTML(t.trim()));e=o.hasClass(this.options.pageClass)?o:o.find("."+this.options.pageClass),this.options.$ajaxContainer.append(e),this.formerPages.push(this.page),this.updatePageTitle(e),this.boot(e,"ajax",state.isHome);var n=this.options.postLoad.bind(this);n(state,e),"undefined"!=typeof ga&&ga("send","pageview",{page:state.href,title:document.title})},t.prototype.updatePageTitle=function(t){if(t.length&&""!==t.attr("data-meta-title")){var e=t.attr("data-meta-title");null!==e&&""!==e&&(document.title=e)}},t.prototype.pushFirstState=function(t){history.pushState&&history.pushState({firstPage:!0,href:window.location.href,isHome:t},null,window.location.href)},t}()}),define("graphicLoader",["exports","loglevel"],function(t,e){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.GraphicLoader=void 0;var i=o(e);t.GraphicLoader=function(){function t(){n(this,t)}return t.prototype.show=function(){i["default"].debug("🌀 Show loader")},t.prototype.hide=function(){i["default"].debug("🌀 Hide loader")},t}()}),define("pages/page",["exports","abstract-page"],function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e);
}Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0,t.Page=function(t){function e(){return o(this,e),n(this,t.apply(this,arguments))}return i(e,t),e.prototype.init=function(){t.prototype.init.call(this)},e.prototype.initEvents=function(){t.prototype.initEvents.call(this)},e.prototype.destroyEvents=function(){t.prototype.destroyEvents.call(this)},e}(e.AbstractPage)}),define("abstract-block",["exports","loglevel","waitForImages","jquery","utils/debounce"],function(t,e,o,n,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractBlock=void 0;var r=s(e);s(o),s(n),t.AbstractBlock=function(){function t(e,o,n){a(this,t),n=n||"block",this.page=e,this.$cont=o,this.id=o[0].id,this.type=n,this.name=this.$cont.length?this.$cont[0].getAttribute("data-node-name"):"",this.onResizeDebounce=(0,i.debounce)(this.onResize.bind(this),50,!1),r["default"].debug("\t✳️ #"+this.id+"\t"+n),this.init(),this.initEvents()}return t.prototype.init=function(){},t.prototype.initEvents=function(){this.$cont.find("img").length?this.$cont.waitForImages({finished:this.onLoad.bind(this),waitForAll:!0}):this.onLoad(),this.page.router.$window.on("resize",this.onResizeDebounce)},t.prototype.destroy=function(){r["default"].debug("\t🗑 #"+this.id),this.destroyEvents()},t.prototype.destroyEvents=function(){this.page.router.$window.off("resize",this.onResizeDebounce)},t.prototype.onResize=function(){},t.prototype.onLoad=function(){},t.prototype.onPageReady=function(){},t}()}),define("class-factory",["exports","loglevel","pages/page","pages/home","abstract-block"],function(t,e,o,n,i){"use strict";function s(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ClassFactory=void 0;var r=s(e);t.ClassFactory=function(){function t(){a(this,t)}return t.prototype.getPageInstance=function(t,e,i,s,a,l){switch(t){case"home":return r["default"].debug("Create new home"),new n.Home(e,i,s,a,l);default:return r["default"].info('"'+t+'" has no defined route, using Page.'),new o.Page(e,i,s,a,l)}},t.prototype.getBlockInstance=function(t,e,o){},t}()}),define("main",["jquery","TweenMax","isMobile","loglevel","utils/utils","utils/polyfills","utils/gaTrackErrors","common/nav","router","graphicLoader","class-factory"],function(t,e,o,n,i,s,a,r,l,c,u){"use strict";function d(t){return t&&t.__esModule?t:{"default":t}}var h=d(t),p=(d(e),d(o)),f=d(n);temp.devMode&&!0===temp.devMode?f["default"].setLevel(0):f["default"].setLevel(5),TweenLite.defaultEase=Expo.easeOut,(0,s.polyfills)(),(0,a.gaTrackErrors)();var m=(0,h["default"])("body"),b=m[0].getAttribute("data-is-home"),g="1"==b,y=p["default"].any!==!1;y?i.Utils.addClass(m[0],"is-mobile"):i.Utils.addClass(m[0],"is-desktop"),(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0)&&i.Utils.addClass(m[0],"ie-browser");var v=new l.Router({homeHasClass:!1,ajaxEnabled:!0,lazyloadEnabled:!0,pageClass:"page-container"},new u.ClassFactory,temp.baseUrl,new c.GraphicLoader,new r.Nav);v.initEvents(),v.boot((0,h["default"])(".page-container").eq(0),"static",g)}),requirejs.config({baseUrl:"/themes/BaseTheme/static/dist",paths:{jquery:"//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min",TweenMax:"//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min",TweenLite:"//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenLite.min",Lazyload:"/themes/BaseTheme/static/bower_components/vanilla-lazyload/dist/lazyload",waitForImages:"/themes/BaseTheme/static/bower_components/waitForImages/dist/jquery.waitforimages.min",scrollTo:"/themes/BaseTheme/static/bower_components/gsap/src/minified/plugins/ScrollToPlugin.min",isMobile:"/themes/BaseTheme/static/bower_components/isMobile/isMobile.min",actual:"/themes/BaseTheme/static/bower_components/jquery.actual/jquery.actual.min",Hammer:"/themes/BaseTheme/static/bower_components/hammerjs/hammer.min",loglevel:"/themes/BaseTheme/static/bower_components/loglevel/dist/loglevel.min","utils/utils":"/themes/BaseTheme/static/bower_components/pageblock/dist/utils/utils","utils/polyfills":"/themes/BaseTheme/static/bower_components/pageblock/dist/utils/polyfills","utils/debounce":"/themes/BaseTheme/static/bower_components/pageblock/dist/utils/debounce","utils/scroll":"/themes/BaseTheme/static/bower_components/pageblock/dist/utils/scroll","utils/gaTrackErrors":"/themes/BaseTheme/static/bower_components/pageblock/dist/utils/gaTrackErrors","utils/bootstrapMedia":"/themes/BaseTheme/static/bower_components/pageblock/dist/utils/bootstrapMedia",state:"/themes/BaseTheme/static/bower_components/pageblock/dist/state",router:"/themes/BaseTheme/static/bower_components/pageblock/dist/router",graphicLoader:"/themes/BaseTheme/static/bower_components/pageblock/dist/graphicLoader","abstract-nav":"/themes/BaseTheme/static/bower_components/pageblock/dist/abstract-nav","abstract-page":"/themes/BaseTheme/static/bower_components/pageblock/dist/abstract-page","abstract-block":"/themes/BaseTheme/static/bower_components/pageblock/dist/abstract-block"}}),require(["main"]),define("../bootstrap",function(){});